(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{101:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(9),c=n(43),a=n(18),i=n.n(a),u=n(24),s=n(15),l=n(19),f=n.n(l);var p=n(27),m=function(t){return t.contacts.filter},d=function(t){return t.contacts.isLoadong},b=Object(p.a)([function(t){return t.contacts.items},m],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),h=n(94),j=n.n(h),y=n(1);var v=function(t){var e=t.value,n=t.onChange;return Object(y.jsxs)("label",{className:j.a.filter,children:[Object(y.jsx)("span",{className:j.a.text,children:"Find contacts by name:"}),Object(y.jsx)("input",{className:"form-control",type:"text",value:e,onChange:n})]})};function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){return!e||"object"!==I(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}var F,k=n(95),D=n.n(k),A=function(t){x(n,t);var e=S(n);function n(){var t;O(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).normalizedTitle=function(t){return t[0].toUpperCase()+t.slice(1)},t}return g(n,[{key:"render",value:function(){var t=this.props,e=t.title,n=t.children;return Object(y.jsxs)("section",{className:D.a.section,children:[e?Object(y.jsx)("h2",{className:D.a.title,children:this.normalizedTitle(e)}):"",n]})}}]),n}(r.Component),T=n(3),E=new Uint8Array(16);function R(){if(!F&&!(F="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return F(E)}var L=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var U=function(t){return"string"===typeof t&&L.test(t)},P=[],z=0;z<256;++z)P.push((z+256).toString(16).substr(1));var V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(P[t[e+0]]+P[t[e+1]]+P[t[e+2]]+P[t[e+3]]+"-"+P[t[e+4]]+P[t[e+5]]+"-"+P[t[e+6]]+P[t[e+7]]+"-"+P[t[e+8]]+P[t[e+9]]+"-"+P[t[e+10]]+P[t[e+11]]+P[t[e+12]]+P[t[e+13]]+P[t[e+14]]+P[t[e+15]]).toLowerCase();if(!U(n))throw TypeError("Stringified UUID is invalid");return n};var B=function(t,e,n){var r=(t=t||{}).random||(t.rng||R)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return V(r)},J=n(92),W=n.n(J),q=function(t){x(n,t);var e=S(n);function n(){var t;O(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={name:"",number:""},t.nameInputId=B(),t.numberInputId=B(),t.normalizedTitle=function(t){return t[0].toUpperCase()+t.slice(1)},t.handleChange=function(e){var n=e.target,r=n.name,o=n.value;t.setState(Object(T.a)({},r,o))},t.handleSubmit=function(e){var n=t.props,r=n.contacts,o=n.onSubmit;e.preventDefault(),r.find((function(e){return e.name===t.state.name}))?alert("".concat(t.state.name," is already in contacts")):(o(t.state),t.setState({name:"",number:""}))},t}return g(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(y.jsxs)("form",{onSubmit:this.handleSubmit,className:W.a.addContactForm,children:[Object(y.jsxs)("div",{className:W.a.formItem,children:[Object(y.jsx)("label",{htmlFor:this.nameInputId,children:"Name"}),Object(y.jsx)("input",{className:"form-control",type:"text",placeholder:"Enter name",name:"name",id:this.nameInputId,value:e,onChange:this.handleChange})]}),Object(y.jsxs)("div",{className:W.a.formItem,children:[Object(y.jsx)("label",{htmlFor:this.numberInputId,children:" Number "}),Object(y.jsx)("input",{className:"form-control",type:"tel",placeholder:"Enter phone number",name:"number",id:this.numberInputId,value:n,onChange:this.handleChange})]}),Object(y.jsx)("button",{type:"submit",disabled:!e,className:"btn btn-success ".concat(W.a.formItem," ").concat(W.a.formBtn),children:Object(y.jsx)("span",{className:W.a.btnText,children:" Add Contact"})})]})}}]),n}(r.Component),K=n(96),M=n.n(K),Q=function(t){x(n,t);var e=S(n);function n(){var t;O(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).normalizedTitle=function(t){return t[0].toUpperCase()+t.slice(1)},t}return g(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.contacts,r=e.onDeleteContact;return Object(y.jsx)("ul",{className:M.a.list,children:n.length>0?n.map((function(e){return Object(y.jsxs)("li",{className:M.a.contactItem,name:e.name,children:[Object(y.jsxs)("span",{className:M.a.contactData,children:[t.normalizedTitle(e.name)," : ",e.number]}),Object(y.jsx)("button",{type:"button",className:"deleteBtn btn btn-outline-dark",onClick:function(){return r(e)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},e.id)})):"No contacts added yet."})}}]),n}(r.Component);e.default=Object(o.b)((function(t){return{contacts:b(t),filter:m(t),isLoading:d(t)}}),(function(t){return{onAddContact:function(e){return t((n=e,function(t){t(Object(s.b)()),console.log(n),f.a.post("/contacts",n).then((function(e){var n=e.data;return console.log(n),t(Object(s.c)(n))})).catch((function(e){return t(Object(s.a)(e))}))}));var n},onDeleteContact:function(e){return t((n=e,function(t){console.log(n),t(Object(s.e)()),f.a.delete("/contacts/".concat(n.id)).then((function(){return t(Object(s.f)(n))})).catch((function(e){return t(Object(s.d)(e))}))}));var n},onChangeFilter:function(e){return t(Object(c.a)(e))}}}))((function(t){var e=t.contacts,n=t.filter,c=t.onAddContact,a=t.onDeleteContact,l=t.onChangeFilter,p=Object(o.c)();return Object(r.useEffect)((function(){p(function(){var t=Object(u.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(s.h)()),t.prev=1,t.next=4,f.a.get("/contacts");case 4:n=t.sent,r=n.data,console.log(r),e(Object(s.i)(r)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e(Object(s.g)(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}())}),[p]),Object(y.jsxs)("div",{className:"phonebookWrapper",children:[Object(y.jsx)(A,{children:Object(y.jsx)(q,{onSubmit:function(t){return c(t)},contacts:e})}),Object(y.jsxs)(A,{title:"contacts",children:[Object(y.jsx)(v,{value:n,onChange:function(t){return l(t.currentTarget.value)}}),Object(y.jsx)(Q,{contacts:e,onDeleteContact:function(t){return a(t)}})]})]})}))},92:function(t,e,n){t.exports={addContactForm:"AddContactForm_addContactForm__3_MeF",formItem:"AddContactForm_formItem__3cD10",formBtn:"AddContactForm_formBtn__2EIUI",btnText:"AddContactForm_btnText__2DktU",wrapper:"AddContactForm_wrapper__3QJEn"}},94:function(t,e,n){t.exports={filter:"Filter_filter__2-Njt",text:"Filter_text__NEKlZ"}},95:function(t,e,n){t.exports={title:"Section_title__3PSwX",section:"Section_section__AjNYq"}},96:function(t,e,n){t.exports={list:"ContactsList_list__1Ju2I",contactItem:"ContactsList_contactItem__3fDzx",contactData:"ContactsList_contactData__20ffW"}}}]);
//# sourceMappingURL=3.15b48fdf.chunk.js.map